#include<IRremote.h>

int recvPin=12;
int flag=1;
int one=1;

int two=1;

int three=1;

IRrecv irrecv(recvPin);

decode_results results;

void setup()

{

  pinMode(7, OUTPUT);

  pinMode(5, OUTPUT);

  pinMode(3, OUTPUT);

  Serial.begin(9600);

  irrecv.enableIRIn();

}

 

void loop()

{

  if(irrecv.decode(&results))

  {
    if(results.value == 16580863)
    {
      flag=flag * (-1);
    }
    if(flag == -1)
    {
      Serial.println("MAIN ON");

    if(results.value == 16582903 )

    {

      one=one*(-1);

      if( one == -1)

      {

        Serial.println("1 ON");

        digitalWrite(7, HIGH);

      }

      else

      {

        Serial.println("1 OFF");

        digitalWrite(7, LOW);

      }

    }

      if(results.value == 16615543 )

    {

      two=two*(-1);

      if( two == -1)

      {

        Serial.println("2 ON");

        digitalWrite(7, HIGH);

        digitalWrite(5, HIGH);

      }

      else

      {

        Serial.println("2 OFF");

       digitalWrite(7, LOW);

       digitalWrite(5, LOW);

      }

     }

        if(results.value == 16599223 )

    {

      three=three*(-1);

      if( three == -1)

      {

        Serial.println("3 ON");

        digitalWrite(7, HIGH);

        digitalWrite(5, HIGH);

        digitalWrite(3, HIGH);

      }

      else

      {

        Serial.println("3 OFF");

       digitalWrite(7, LOW);

       digitalWrite(5, LOW);

       digitalWrite(3, LOW);

      }
     }

    }
    else
    {
      Serial.println(" MAIN OFF");
    }

irrecv.resume();

  }

}

 

